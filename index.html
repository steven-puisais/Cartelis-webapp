<html>
	<head>
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
		<link href="style.css" rel="stylesheet" type="text/css">
		<script src="https://apis.google.com/js/api:client.js"></script>
		<script>
			var googleUser = {};
			var startApp = function () {
				gapi.load('auth2', function () {
					// Retrieve the singleton for the GoogleAuth library and set up the client.
					auth2 = gapi.auth2.init({
						client_id: '613313973525-ruv23jes3e7vii6brjdosld874t59vbm.apps.googleusercontent.com',
						cookiepolicy: 'single_host_origin',
						scope: 'https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.metadata https://www.googleapis.com/auth/spreadsheets'
					});
					attachSignin(document.getElementById('customBtn'));
				});
			};
			function attachSignin(element) {
				auth2.attachClickHandler(element, {},
					function (googleUser) {
						document.getElementById('name').innerText = "Access granted !\n Currently signed in as " +
							googleUser.getBasicProfile().getName();
						document.getElementById("gSignInWrapper").style.display = "none";
						// execute();
					}, function (error) {
						alert(JSON.stringify(error, undefined, 2));
					});
			}

			// function execute() {
			// 	return gapi.client.drive.files.list({})
			// 		.then(function (response) {
			// 			// Handle the results here (response.result has the parsed body).
			// 			console.log("Response", response);
			// 		},
			// 			function (err) { console.error("Execute error", err); });
			// }
		</script>
	</head>
	<body>
		<div id="gSignInWrapper">
			<div id="customBtn" class="customGPlusSignIn">
				<span class="icon"></span>
				<span class="buttonText">Connect API</span>
			</div>
		</div>
		<div id="name"></div>
		<script>startApp();</script>
	</body>
</html>